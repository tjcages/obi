{
  "$schema": "./node_modules/wrangler/config-schema.json",
  "name": "obi",
  "compatibility_date": "2026-01-28",
  "compatibility_flags": ["nodejs_compat"],
  "observability": {
    "logs": {
      "enabled": true,
      "invocation_logs": true
    }
  },
  "main": "src/server.ts",
  "ai": {
    "binding": "AI"
  },
  "assets": {
    "directory": "./dist",
    "binding": "ASSETS",
    "not_found_handling": "single-page-application",
    "run_worker_first": ["/agents/*", "/api/*", "/callback", "/logout"]
  },
  "services": [{ "binding": "INBOX_DOG", "service": "inbox-dog-oauth-production" }],
  "r2_buckets": [
    { "binding": "WORKSPACE_FILES", "bucket_name": "obi-workspace-files" }
  ],
  "durable_objects": {
    "bindings": [
      { "name": "INBOX_AGENT", "class_name": "InboxAgent" },
      { "name": "SCHEDULED_SENDER", "class_name": "ScheduledSender" }
    ]
  },
  "migrations": [
    { "tag": "v1", "new_sqlite_classes": ["InboxAgent"] },
    { "tag": "v2", "new_sqlite_classes": ["ScheduledSender"] }
  ],
  "routes": []
}
